<script setup lang="ts">
import type { MapQuery } from '@/types'
import { useI18n } from 'vue-i18n'

const { t } = useI18n()
const query = defineModel<MapQuery>('query', { required: true })

const emit = defineEmits(['pick-random-map', 'reset-filters'])
</script>

<template>
  <div class="flex items-center flex-wrap lg:justify-end gap-2 lg:gap-4">
    <USelect
      class="w-36"
      v-model="query.state"
      :items="[
        { label: t('map.state.approved'), value: 'approved' },
        { label: t('map.state.wip'), value: 'wip' },
        { label: t('map.state.pending'), value: 'pending' },
        { label: t('map.state.graveyard'), value: 'graveyard' },
        { label: t('map.state.completed'), value: 'completed' },
      ]"
      :leading="true"
    >
    </USelect>

    <USelect
      class="w-36"
      v-model="query.tier"
      multiple
      :items="[
        { label: `1 - ${t('common.tier.veryEasy')}`, value: 'very-easy' },
        { label: `2 - ${t('common.tier.easy')}`, value: 'easy' },
        { label: `3 - ${t('common.tier.medium')}`, value: 'medium' },
        { label: `4 - ${t('common.tier.advanced')}`, value: 'advanced' },
        { label: `5 - ${t('common.tier.hard')}`, value: 'hard' },
        { label: `6 - ${t('common.tier.veryHard')}`, value: 'very-hard' },
        { label: `7 - ${t('common.tier.extreme')}`, value: 'extreme' },
        { label: `8 - ${t('common.tier.death')}`, value: 'death' },
        { label: `9 - ${t('common.tier.unfeasible')}`, value: 'unfeasible' },
        { label: `10 - ${t('common.tier.impossible')}`, value: 'impossible' },
      ]"
      :placeholder="$t('maps.query.selectTier')"
      :leading="true"
    >
    </USelect>

    <UButton variant="outline" color="neutral" @click="emit('pick-random-map')">
      <IconShuffle />
    </UButton>

    <UInput v-model="query.name" :placeholder="$t('maps.query.searchby')">
      <template #trailing>
        <IconMap />
      </template>
    </UInput>

    <UButton variant="outline" color="neutral" @click="emit('reset-filters')">
      <IconReset />
    </UButton>
  </div>
</template>
